<!DOCTYPE html>
<html lang="fi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Call of Duty -valikko</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #1a202c; /* Tumma tausta */
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            overflow: hidden; /* Estä vierityspalkit, jos painike menee reunan yli */
        }
        .game-container {
            background-color: #2d3748; /* Tummempi harmaa */
            border-radius: 1rem; /* Pyöristetyt kulmat */
            padding: 2.5rem; /* Reilu täyte */
            box-shadow: 0 10px 15px rgba(0, 0, 0, 0.5); /* Varjo */
            text-align: center;
            position: relative;
            width: 90%; /* Mobiiliystävällinen leveys */
            max-width: 500px; /* Maksimileveys työpöydällä */
            border: 2px solid #4a5568; /* Ohut reuna */
            z-index: 1; /* Varmista, että säiliö on välähdyksen päällä */
        }
        .game-title {
            color: #e2e8f0; /* Vaalea teksti */
            font-size: 2.5rem; /* Suuri otsikko */
            font-weight: bold;
            margin-bottom: 2rem;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.7); /* Tekstivarjo */
        }
        .button-container {
            display: flex;
            flex-direction: column; /* Painikkeet pystysuunnassa */
            gap: 1.5rem; /* Painikkeiden väli */
        }
        .game-button {
            background: linear-gradient(145deg, #4299e1, #3182ce); /* Sininen liukuväri */
            color: white;
            padding: 1rem 2rem;
            border-radius: 0.75rem; /* Pyöristetyt kulmat */
            font-size: 1.25rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease; /* Pehmeät siirtymät */
            border: none;
            outline: none;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3); /* Painikkeen varjo */
            position: relative; /* Tarvitaan pakenevalle painikkeelle */
            overflow: hidden; /* Estää tekstin leikkaantumisen */
        }
        .game-button:hover {
            transform: translateY(-3px); /* Hieman ylöspäin hiiren ollessa päällä */
            box-shadow: 0 6px 8px rgba(0, 0, 0, 0.4);
        }
        .game-button:active {
            transform: translateY(0); /* Painettu tila */
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
        }
        .running-button {
            transition: all 0.1s ease-out; /* Nopeampi siirtymä pakenevalle painikkeelle */
        }
        .message-box {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background-color: #2d3748;
            border: 2px solid #4299e1;
            border-radius: 0.75rem;
            padding: 2rem;
            box-shadow: 0 10px 15px rgba(0, 0, 0, 0.5);
            color: #e2e8f0;
            font-size: 1.2rem;
            z-index: 1000;
            display: none; /* Piilotettu aluksi */
            flex-direction: column;
            align-items: center;
            gap: 1rem;
            width: 80%;
            max-width: 400px;
            text-align: center;
        }
        .message-box button {
            background-color: #4299e1;
            color: white;
            padding: 0.75rem 1.5rem;
            border-radius: 0.5rem;
            border: none;
            cursor: pointer;
            font-size: 1rem;
            transition: background-color 0.3s ease;
        }
        .message-box button:hover {
            background-color: #3182ce;
        }

        /* Punainen välähdys -peittokuva */
        .red-flash-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            background-color: rgba(255, 0, 0, 0.3); /* Punainen, läpinäkyvä tausta */
            opacity: 0; /* Aluksi piilotettu */
            z-index: 999; /* Viestilaatikon alla, mutta pelisäiliön päällä */
            pointer-events: none; /* Estä klikkaukset välähdyksen läpi */
            transition: opacity 0.1s ease-out; /* Lyhyt siirtymä */
        }
        .red-flash-overlay.active {
            opacity: 1; /* Näytä välähdys */
        }
    </style>
</head>
<body>
    <div class="game-container">
        <h1 class="game-title">CALL OF DUTY: THE MENU</h1>
        <div class="button-container">
            <button id="stakeoutButton" class="game-button">STAKEOUT 24/7</button>
            <button id="otherModesButton" class="game-button running-button">MUUT PELIMUODUT</button>
        </div>
    </div>

    <!-- Viestilaatikko -->
    <div id="messageBox" class="message-box">
        <p id="messageText"></p>
        <button id="closeMessageButton">OK</button>
    </div>

    <!-- Punainen välähdys -peittokuva -->
    <div id="redFlashOverlay" class="red-flash-overlay"></div>

    <script>
        // Hae elementit DOMista
        const stakeoutButton = document.getElementById('stakeoutButton');
        const otherModesButton = document.getElementById('otherModesButton');
        const gameContainer = document.querySelector('.game-container');
        const messageBox = document.getElementById('messageBox');
        const messageText = document.getElementById('messageText');
        const closeMessageButton = document.getElementById('closeMessageButton');
        const redFlashOverlay = document.getElementById('redFlashOverlay'); // Uusi välähdys-elementti

        // Funktion näyttää viestilaatikon
        function showMessageBox(message) {
            messageText.textContent = message;
            messageBox.style.display = 'flex';
        }

        // Funktion väläyttää näyttöä punaisena
        function flashRed() {
            redFlashOverlay.classList.add('active'); // Lisää aktiivinen luokka
            setTimeout(() => {
                redFlashOverlay.classList.remove('active'); // Poista luokka lyhyen ajan kuluttua
            }, 200); // Välähdyksen kesto millisekunneissa (0.2 sekuntia)
        }

        // Piilota viestilaatikko
        closeMessageButton.addEventListener('click', () => {
            messageBox.style.display = 'none';
        });

        // Tapahtumankuuntelija "stakeout 24/7" -painikkeelle
        stakeoutButton.addEventListener('click', () => {
            showMessageBox('Valitsit "STAKEOUT 24/7"! Valmistaudu toimintaan!');
            // Tähän voisi lisätä logiikkaa siirtyä seuraavaan pelinäkymään
        });

        // Tapahtumankuuntelija "muut pelimuodot" -painikkeelle
        otherModesButton.addEventListener('mouseover', () => {
            // Hae säiliön mitat
            const containerRect = gameContainer.getBoundingClientRect();
            const buttonRect = otherModesButton.getBoundingClientRect();

            // Laske sallitut liikkumisalueet
            // Varmista, että painike pysyy säiliön sisällä
            const maxX = containerRect.width - buttonRect.width - 20; // 20px marginaali
            const maxY = containerRect.height - buttonRect.height - 20; // 20px marginaali

            // Generoi uudet satunnaiset sijainnit
            // Käytä positiivisia ja negatiivisia arvoja, jotta painike voi liikkua kaikkiin suuntiin
            // Suhteuta liike säiliön kokoon
            const newX = Math.random() * maxX - maxX / 2;
            const newY = Math.random() * maxY - maxY / 2;

            // Aseta painikkeen uusi sijainti CSS transformin avulla
            otherModesButton.style.transform = `translate(${newX}px, ${newY}px)`;
        });

        // Estä "muut pelimuodot" -painikkeen napsauttaminen
        otherModesButton.addEventListener('click', (event) => {
            event.stopPropagation(); // Estä tapahtuman leviämisen
            event.preventDefault(); // Estä oletustoiminto
            showMessageBox('Olisko kuitenkin stakeout?'); // Uusi viesti
            flashRed(); // Kutsu välähdysfunktiota
        });

        // Palauta painike alkuperäiseen sijaintiin, jos hiiri poistuu siitä
        otherModesButton.addEventListener('mouseout', () => {
            otherModesButton.style.transform = `translate(0, 0)`;
        });

    </script>
</body>
</html>
